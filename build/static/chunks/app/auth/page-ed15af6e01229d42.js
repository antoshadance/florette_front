(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{535:(e,s,l)=>{"use strict";l.d(s,{A:()=>h});var t=l(5155),r=l(8368),a=l(6460),n=l.n(a),i=l(767),o=l(6710),c=l(8173),d=l.n(c);l(6046);var x=l(2115),u=l(9947);let h=()=>{let[e,s]=(0,x.useState)(!1),{user:l}=(0,u.J)();function a(){s(!e)}return(0,t.jsxs)("nav",{className:"z-[99] h-[100px] w-[100vw] flex bg-transparent backdrop-blur-[2px] border-b border-black/5 justify-between items-center px-2 lg:px-12 text-white fixed top-0",children:[(0,t.jsx)(d(),{href:"/",children:(0,t.jsx)("h2",{className:(0,r.cn)(n().className," uppercase text-3xl lg:text-4xl hover:text-[#dadada] transition-all"),children:"Florette"})}),(0,t.jsxs)("ul",{className:"lg:flex items-center gap-x-12 font-light hidden",children:[(0,t.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,t.jsx)(d(),{href:"/",children:"Главная"})}),(0,t.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,t.jsx)(d(),{href:"/#about_us",children:"О нас"})}),(0,t.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,t.jsx)(d(),{href:"/catalog",children:"Каталог"})}),l&&"user"==l.role&&(0,t.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,t.jsx)(d(),{href:"/me/user/basket",children:"Корзина"})}),(0,t.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,t.jsx)(d(),{href:l?"/me":"/auth",children:"Личный кабинет"})})]}),(0,t.jsxs)("div",{id:"nav_mob_panel",className:(0,r.cn)("lg:hidden flex flex-col gap-y-40 py-8 pl-8 pr-4 h-[100vh] w-[80vw] absolute top-0 bg-black/90 transition-all",e?"right-0":"right-[-80vw]"),children:[(0,t.jsx)(i.A,{onClick:a,size:32,className:"shrink-0 self-end",strokeWidth:1.5}),(0,t.jsxs)("ul",{className:"flex flex-col gap-y-8 font-light",children:[(0,t.jsx)("li",{children:(0,t.jsx)(d(),{onClick:a,href:"/",children:"Главная"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{onClick:a,href:"/#about_us",children:"О нас"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{onClick:a,href:"/catalog",children:"Каталог"})}),l&&"user"==l.role&&(0,t.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,t.jsx)(d(),{href:"/me/user/basket",children:"Корзина"})}),(0,t.jsx)("li",{children:(0,t.jsx)(d(),{onClick:a,href:l?"/me":"/auth",children:"Личный кабинет"})})]})]}),(0,t.jsx)(o.A,{className:"lg:hidden",onClick:a})]})}},5227:(e,s,l)=>{Promise.resolve().then(l.bind(l,7978))},5570:(e,s,l)=>{"use strict";l.d(s,{A:()=>c});var t=l(5155),r=l(8368),a=l(6460),n=l.n(a),i=l(8173),o=l.n(i);let c=()=>(0,t.jsxs)("footer",{className:"w-[100vw] lg:h-[120px] px-4 lg:px-12 py-4 text-white bg-[#293230] flex flex-col gap-y-8 lg:flex-row lg:items-center justify-between",children:[(0,t.jsx)(o(),{href:"/",children:(0,t.jsx)("h2",{className:(0,r.cn)(n().className,"uppercase text-4xl text-left"),children:"Florette"})}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-y-6 gap-x-24",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsx)("h3",{className:"underline",children:"Адрес"}),(0,t.jsx)("p",{children:"Красноярск, ул. Маяковского, 21"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsx)("h3",{className:"underline",children:"Телефон"}),(0,t.jsx)("p",{children:"+7 (123) 123 11 22"})]})]})]})},7978:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>p});var t=l(5155),r=l(2115),a=l(4611),n=l(8368);function i(e){let{className:s,...l}=e;return(0,t.jsx)(a.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",s),...l})}function o(e){let{className:s,...l}=e;return(0,t.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",s),...l})}function c(e){let{className:s,...l}=e;return(0,t.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...l})}function d(e){let{className:s,...l}=e;return(0,t.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",s),...l})}var x=l(5570),u=l(535),h=l(9871),g=l(9947),f=l(6046);let p=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{}),(0,t.jsx)(()=>{let{user:e,login:s}=(0,g.J)();(0,r.useEffect)(()=>{e&&(0,f.redirect)("/me/".concat(e.role))},[e]);let[l,a]=(0,r.useState)({login:"",password:""}),[n,x]=(0,r.useState)({login:"",password:""}),[u,p]=(0,r.useState)(""),[v,m]=(0,r.useState)(!1);function b(e){return"login_login"==e.target.id?a({...l,login:e.target.value}):"password_login"==e.target.id?a({...l,password:e.target.value}):"login_reg"==e.target.id?x({...n,login:e.target.value}):"password_reg"==e.target.id?x({...n,password:e.target.value}):void 0}function j(e){e.preventDefault();let t=e.target.id;return"login"==t?s(JSON.stringify(l),t):"registration"==t?s(JSON.stringify(n),t):void 0}return(0,r.useEffect)(()=>{n.password==u?m(!0):m(!1)},[n.password,u]),(0,t.jsx)("div",{className:"w-[100vw] h-[100vh] py-[100px] flex items-center justify-center",children:(0,t.jsxs)(i,{defaultValue:"login",className:" rounded-sm w-1/3 h-2/3 items-center justify-center flex gap-y-0",children:[(0,t.jsxs)(o,{className:"h-1/6 bg-black/50 rounded-b-none rounded-t-sm flex justify-between lg:justify-center lg:gap-x-24 text-white w-full",children:[(0,t.jsx)(c,{className:"rounded-xs",value:"login",children:"Вход"}),(0,t.jsx)(c,{className:"rounded-xs",value:"registration",children:"Регистрация"})]}),(0,t.jsx)(d,{className:"h-5/6 w-full bg-black/25 rounded-b-sm",value:"login",children:(0,t.jsxs)("form",{id:"login",onSubmit:j,className:"h-full w-full px-24 py-12 flex flex-col justify-between text-white",children:[(0,t.jsxs)("div",{className:"w-full flex flex-col gap-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,t.jsx)("label",{htmlFor:"login_login",children:"Имя пользователя"}),(0,t.jsx)("input",{value:l.login,onChange:b,id:"login_login",className:"border border-white/25 rounded-sm p-1"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,t.jsx)("label",{htmlFor:"password_login",children:"Пароль"}),(0,t.jsx)("input",{type:"password",value:l.password,onChange:b,id:"password_login",className:"border border-white/25 rounded-sm p-1"})]})]}),(0,t.jsx)(h.$,{variant:"secondary",children:"Войти"})]})}),(0,t.jsx)(d,{className:"h-5/6 w-full bg-black/25 rounded-b-sm",value:"registration",children:(0,t.jsxs)("form",{id:"registration",onSubmit:j,className:"h-full w-full px-24 py-8 flex flex-col justify-between text-white",children:[(0,t.jsxs)("div",{className:"w-full flex flex-col gap-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,t.jsx)("label",{htmlFor:"login_reg",children:"Имя пользователя"}),(0,t.jsx)("input",{id:"login_reg",value:n.login,onChange:b,className:"border border-white/25 rounded-sm p-1"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,t.jsx)("label",{htmlFor:"password_reg",children:"Пароль"}),(0,t.jsx)("input",{id:"password_reg",type:"password",value:n.password,onChange:b,className:"border border-white/25 rounded-sm p-1"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,t.jsx)("label",{htmlFor:"confirm",children:"Подтвердите пароль"}),(0,t.jsx)("input",{type:"password",value:u,onChange:e=>p(e.target.value),id:"confirm",className:"border border-white/25 rounded-sm p-1"})]})]}),(0,t.jsx)(h.$,{disabled:!v,variant:"secondary",children:"Регистрация и вход"})]})})]})})},{}),(0,t.jsx)(x.A,{})]})},8368:(e,s,l)=>{"use strict";l.d(s,{cn:()=>a});var t=l(3463),r=l(9795);function a(){for(var e=arguments.length,s=Array(e),l=0;l<e;l++)s[l]=arguments[l];return(0,r.QP)((0,t.$)(s))}},9871:(e,s,l)=>{"use strict";l.d(s,{$:()=>o});var t=l(5155);l(2115);var r=l(2317),a=l(1027),n=l(8368);let i=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:s,variant:l,size:a,asChild:o=!1,...c}=e,d=o?r.DX:"button";return(0,t.jsx)(d,{"data-slot":"button",className:(0,n.cn)(i({variant:l,size:a,className:s})),...c})}},9947:(e,s,l)=>{"use strict";l.d(s,{J:()=>c,O:()=>o});var t=l(5155),r=l(2115),a=l(2922),n=l(6046);let i=(0,r.createContext)(),o=e=>{let{children:s}=e,[l,o]=(0,r.useState)(void 0);return(0,r.useEffect)(()=>{let e=localStorage.getItem("user");o(e?(0,a.s)(e):void 0)},[]),(0,t.jsx)(i.Provider,{value:{user:l,login:function(e,s){return console.log(e),fetch("".concat("http://45.12.145.247:3001","/").concat(s),{method:"post",body:e,headers:{"Content-Type":"application/json"}}).then(e=>200==e.status&&e.json()).then(e=>{let{token:s}=e;s&&localStorage.setItem("user",s)}).then(()=>{o((0,a.s)(localStorage.getItem("user")))}).catch(e=>{console.log(e)}),(0,n.redirect)("/me")},logout:()=>{localStorage.removeItem("user"),o(),(0,n.redirect)("/")}},children:s})},c=()=>(0,r.useContext)(i)}},e=>{var s=s=>e(e.s=s);e.O(0,[161,181,233,789,441,587,358],()=>s(5227)),_N_E=e.O()}]);