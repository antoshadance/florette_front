(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{535:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var l=r(5155),n=r(8368),s=r(6460),a=r.n(s),i=r(767),c=r(6710),o=r(8173),d=r.n(o);r(6046);var u=r(2115),h=r(9947);let x=()=>{let[e,t]=(0,u.useState)(!1),{user:r}=(0,h.J)();function s(){t(!e)}return(0,l.jsxs)("nav",{className:"z-[99] h-[100px] w-[100vw] flex bg-transparent backdrop-blur-[2px] border-b border-black/5 justify-between items-center px-2 lg:px-12 text-white fixed top-0",children:[(0,l.jsx)(d(),{href:"/",children:(0,l.jsx)("h2",{className:(0,n.cn)(a().className," uppercase text-3xl lg:text-4xl hover:text-[#dadada] transition-all"),children:"Florette"})}),(0,l.jsxs)("ul",{className:"lg:flex items-center gap-x-12 font-light hidden",children:[(0,l.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,l.jsx)(d(),{href:"/",children:"Главная"})}),(0,l.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,l.jsx)(d(),{href:"/#about_us",children:"О нас"})}),(0,l.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,l.jsx)(d(),{href:"/catalog",children:"Каталог"})}),r&&"user"==r.role&&(0,l.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,l.jsx)(d(),{href:"/me/user/basket",children:"Корзина"})}),(0,l.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,l.jsx)(d(),{href:r?"/me":"/auth",children:"Личный кабинет"})})]}),(0,l.jsxs)("div",{id:"nav_mob_panel",className:(0,n.cn)("lg:hidden flex flex-col gap-y-40 py-8 pl-8 pr-4 h-[100vh] w-[80vw] absolute top-0 bg-black/90 transition-all",e?"right-0":"right-[-80vw]"),children:[(0,l.jsx)(i.A,{onClick:s,size:32,className:"shrink-0 self-end",strokeWidth:1.5}),(0,l.jsxs)("ul",{className:"flex flex-col gap-y-8 font-light",children:[(0,l.jsx)("li",{children:(0,l.jsx)(d(),{onClick:s,href:"/",children:"Главная"})}),(0,l.jsx)("li",{children:(0,l.jsx)(d(),{onClick:s,href:"/#about_us",children:"О нас"})}),(0,l.jsx)("li",{children:(0,l.jsx)(d(),{onClick:s,href:"/catalog",children:"Каталог"})}),r&&"user"==r.role&&(0,l.jsx)("li",{className:"hover:text-[#ccc] transition-all",children:(0,l.jsx)(d(),{href:"/me/user/basket",children:"Корзина"})}),(0,l.jsx)("li",{children:(0,l.jsx)(d(),{onClick:s,href:r?"/me":"/auth",children:"Личный кабинет"})})]})]}),(0,l.jsx)(c.A,{className:"lg:hidden",onClick:s})]})}},767:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7401).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1027:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var l=r(3463);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=l.$,a=(e,t)=>r=>{var l;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:i}=t,c=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],l=null==i?void 0:i[e];if(null===t)return null;let s=n(t)||n(l);return a[e][s]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,l]=t;return void 0===l||(e[r]=l),e},{});return s(e,c,null==t?void 0:null===(l=t.compoundVariants)||void 0===l?void 0:l.reduce((e,t)=>{let{class:r,className:l,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...o}[t]):({...i,...o})[t]===r})?[...e,r,l]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},1149:(e,t,r)=>{Promise.resolve().then(r.bind(r,8077))},2317:(e,t,r)=>{"use strict";r.d(t,{DX:()=>a});var l=r(2115),n=r(8068),s=r(5155),a=l.forwardRef((e,t)=>{let{children:r,...n}=e,a=l.Children.toArray(r),c=a.find(o);if(c){let e=c.props.children,r=a.map(t=>t!==c?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,s.jsx)(i,{...n,ref:t,children:l.isValidElement(e)?l.cloneElement(e,void 0,r):null})}return(0,s.jsx)(i,{...n,ref:t,children:r})});a.displayName="Slot";var i=l.forwardRef((e,t)=>{let{children:r,...s}=e;if(l.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),a=function(e,t){let r={...t};for(let l in t){let n=e[l],s=t[l];/^on[A-Z]/.test(l)?n&&s?r[l]=(...e)=>{s(...e),n(...e)}:n&&(r[l]=n):"style"===l?r[l]={...n,...s}:"className"===l&&(r[l]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==l.Fragment&&(a.ref=t?(0,n.t)(t,e):e),l.cloneElement(r,a)}return l.Children.count(r)>1?l.Children.only(null):null});i.displayName="SlotClone";var c=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function o(e){return l.isValidElement(e)&&e.type===c}},2922:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});class l extends Error{}function n(e,t){let r;if("string"!=typeof e)throw new l("Invalid token specified: must be a string");t||(t={});let n=+(!0!==t.header),s=e.split(".")[n];if("string"!=typeof s)throw new l(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(s)}catch(e){throw new l(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new l(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}l.prototype.name="InvalidTokenError"},4522:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var l=r(5155),n=r(8368);function s(e){let{className:t,...r}=e;return(0,l.jsx)("div",{"data-slot":"skeleton",className:(0,n.cn)("bg-primary/10 animate-pulse rounded-md",t),...r})}},5570:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var l=r(5155),n=r(8368),s=r(6460),a=r.n(s),i=r(8173),c=r.n(i);let o=()=>(0,l.jsxs)("footer",{className:"w-[100vw] lg:h-[120px] px-4 lg:px-12 py-4 text-white bg-[#293230] flex flex-col gap-y-8 lg:flex-row lg:items-center justify-between",children:[(0,l.jsx)(c(),{href:"/",children:(0,l.jsx)("h2",{className:(0,n.cn)(a().className,"uppercase text-4xl text-left"),children:"Florette"})}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-y-6 gap-x-24",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,l.jsx)("h3",{className:"underline",children:"Адрес"}),(0,l.jsx)("p",{children:"Красноярск, ул. Маяковского, 21"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,l.jsx)("h3",{className:"underline",children:"Телефон"}),(0,l.jsx)("p",{children:"+7 (123) 123 11 22"})]})]})]})},6046:(e,t,r)=>{"use strict";var l=r(6658);r.o(l,"redirect")&&r.d(t,{redirect:function(){return l.redirect}}),r.o(l,"useParams")&&r.d(t,{useParams:function(){return l.useParams}})},6460:e=>{e.exports={style:{fontFamily:"'Playfair Display', 'Playfair Display Fallback'",fontStyle:"normal"},className:"__className_831efe"}},6710:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});let l=(0,r(7401).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var l=r(2115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,l.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...h}=e;return(0,l.createElement)("svg",{ref:t,...a,width:n,height:n,stroke:r,strokeWidth:c?24*Number(i)/Number(n):i,className:s("lucide",o),...h},[...u.map(e=>{let[t,r]=e;return(0,l.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,l.forwardRef)((r,a)=>{let{className:c,...o}=r;return(0,l.createElement)(i,{ref:a,iconNode:t,className:s("lucide-".concat(n(e)),c),...o})});return r.displayName="".concat(e),r}},8068:(e,t,r)=>{"use strict";r.d(t,{s:()=>a,t:()=>s});var l=r(2115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let r=!1,l=e.map(e=>{let l=n(e,t);return r||"function"!=typeof l||(r=!0),l});if(r)return()=>{for(let t=0;t<l.length;t++){let r=l[t];"function"==typeof r?r():n(e[t],null)}}}}function a(...e){return l.useCallback(s(...e),e)}},8077:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var l=r(5155),n=r(5570),s=r(535),a=r(9947),i=r(9871),c=r(4522),o=r(8368),d=r(6460),u=r.n(d),h=r(6046),x=r(2115);let p=()=>{let{productId:e}=(0,h.useParams)(),{user:t}=(0,a.J)(),[r,d]=(0,x.useState)(t),[p,f]=(0,x.useState)(void 0);return(0,x.useEffect)(()=>{d(t),fetch("".concat("http://45.12.145.247:3001","/products/").concat(e)).then(e=>e.json()).then(e=>f(e.product)).catch(e=>console.log(e))},[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{}),!p&&(0,l.jsxs)("div",{className:"w-[100vw] h-[100vh] pr-4 lg:pr-24 pt-[120px] pb-12 flex justify-between items-center",children:[(0,l.jsx)(c.E,{className:"w-3/4 h-full"}),(0,l.jsx)(c.E,{className:"w-1/5 h-1/2"})]}),p&&(0,l.jsx)(e=>{let{product:n}=e,{id:s,name:a,img:c,price:d,description:x}=n;return(0,l.jsx)(l.Fragment,{children:n&&(0,l.jsxs)("div",{className:"w-[100vw] lg:h-[100vh] lg:px-0 px-4 lg:pr-24 pt-[120px] pb-12 flex flex-col gap-y-12 lg:flex-row lg:items-center",children:[(0,l.jsx)("img",{src:"".concat("http://45.12.145.247:3001","/").concat(c),className:"lg:w-2/3 lg:h-full object-cover"}),(0,l.jsxs)("section",{className:"flex flex-col gap-y-2 lg:gap-y-6 lg:pl-24 text-white",children:[(0,l.jsx)("h2",{className:(0,o.cn)(u().className,"text-4xl uppercase lg:text-center"),children:a}),(0,l.jsx)("p",{className:"font-semibold text-2xl my-6 lg:my-0 text-right",children:d&&new Intl.NumberFormat("ru-RU",{maximumSignificantDigits:3}).format(d)+" ₽"}),(0,l.jsx)("p",{className:"text-lg lg:mt-24",children:x}),t&&"user"==t.role&&(0,l.jsx)(i.$,{onClick:function(){let e=new FormData;console.log(n),console.log(s),e.append("productId",s),e.append("basketId",r.basketId),fetch("".concat("http://45.12.145.247:3001","/addtobasket"),{method:"post",body:e}).then(e=>e.json()).then(e=>console.log(e)).catch(e=>console.log(e))},variant:"secondary",className:(0,o.cn)("px-12 cursor-pointer bg-white/25 transition-all text-white hover:text-black w-2/3 text-lg font-light py-5"),children:"В корзину"}),!t&&(0,l.jsx)(i.$,{onClick:()=>{(0,h.redirect)("/auth")},variant:"secondary",className:(0,o.cn)("px-12 cursor-pointer bg-white/25 transition-all text-white hover:text-black w-2/3 text-lg font-light py-5"),children:"Войти чтобы купить"})]})]})})},{product:p}),(0,l.jsx)(n.A,{})]})}},8368:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var l=r(3463),n=r(9795);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,l.$)(t))}},9871:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var l=r(5155);r(2115);var n=r(2317),s=r(1027),a=r(8368);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:s,asChild:c=!1,...o}=e,d=c?n.DX:"button";return(0,l.jsx)(d,{"data-slot":"button",className:(0,a.cn)(i({variant:r,size:s,className:t})),...o})}},9947:(e,t,r)=>{"use strict";r.d(t,{J:()=>o,O:()=>c});var l=r(5155),n=r(2115),s=r(2922),a=r(6046);let i=(0,n.createContext)(),c=e=>{let{children:t}=e,[r,c]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{let e=localStorage.getItem("user");c(e?(0,s.s)(e):void 0)},[]),(0,l.jsx)(i.Provider,{value:{user:r,login:function(e,t){return console.log(e),fetch("".concat("http://45.12.145.247:3001","/").concat(t),{method:"post",body:e,headers:{"Content-Type":"application/json"}}).then(e=>200==e.status&&e.json()).then(e=>{let{token:t}=e;t&&localStorage.setItem("user",t)}).then(()=>{c((0,s.s)(localStorage.getItem("user")))}).catch(e=>{console.log(e)}),(0,a.redirect)("/me")},logout:()=>{localStorage.removeItem("user"),c(),(0,a.redirect)("/")}},children:t})},o=()=>(0,n.useContext)(i)}},e=>{var t=t=>e(e.s=t);e.O(0,[161,181,441,587,358],()=>t(1149)),_N_E=e.O()}]);