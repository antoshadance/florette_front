(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2922:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});class a extends Error{}function n(e,t){let r;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");t||(t={});let n=+(!0!==t.header),s=e.split(".")[n];if("string"!=typeof s)throw new a(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(s)}catch(e){throw new a(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new a(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}a.prototype.name="InvalidTokenError"},4434:e=>{e.exports={style:{fontFamily:"'Montserrat', 'Montserrat Fallback'",fontStyle:"normal"},className:"__className_90d75a",variable:"__variable_90d75a"}},5537:(e,t,r)=>{Promise.resolve().then(r.bind(r,9245))},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}})},9245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5155),n=r(4434),s=r.n(n);r(9324);var o=r(9947);function l(e){let{children:t}=e;return(0,a.jsxs)("html",{lang:"ru",children:[(0,a.jsx)("title",{children:"Florette - Доставка цветов в Красноярске"}),(0,a.jsx)("body",{className:" ".concat(s().variable,"  antialiased bg-[#5B635C]"),children:(0,a.jsx)(o.O,{children:t})})]})}},9324:()=>{},9947:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,O:()=>c});var a=r(5155),n=r(2115),s=r(2922),o=r(6046);let l=(0,n.createContext)(),c=e=>{let{children:t}=e,[r,c]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{let e=localStorage.getItem("user");c(e?(0,s.s)(e):void 0)},[]),(0,a.jsx)(l.Provider,{value:{user:r,login:function(e,t){return console.log(e),fetch("".concat("http://45.12.145.247:3001","/").concat(t),{method:"post",body:e,headers:{"Content-Type":"application/json"}}).then(e=>200==e.status&&e.json()).then(e=>{let{token:t}=e;t&&localStorage.setItem("user",t)}).then(()=>{c((0,s.s)(localStorage.getItem("user")))}).catch(e=>{console.log(e)}),(0,o.redirect)("/me")},logout:()=>{localStorage.removeItem("user"),c(),(0,o.redirect)("/")}},children:t})},i=()=>(0,n.useContext)(l)}},e=>{var t=t=>e(e.s=t);e.O(0,[655,533,441,587,358],()=>t(5537)),_N_E=e.O()}]);